{{ $block := . }}
{{ $id := $block.id | default (printf "showcase-%d" (time.Now.UnixNano)) }}
{{ with $block.content }}
<div class="container-fluid" id="{{ $id }}">
  <div class="text-center">
    <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">{{ .title | markdownify | emojify }}</h1>
    {{ with .subtitle }}<p class="mt-2 text-lg leading-8 text-gray-600 dark:text-gray-400">{{ . | markdownify | emojify }}</p>{{ end }}
    {{ with .text }}<p class="mt-6 text-lg leading-8 text-gray-600 dark:text-gray-400">{{ . | markdownify | emojify }}</p>{{ end }}
  </div>

  <div class="showcase-container mt-12">
    {{ $items := where site.RegularPages "Section" (.filters.folders | default "post") }}
    {{ range $items }}
      <a href="{{ .RelPermalink }}" class="showcase-item">
        <div class="showcase-image">
          {{ with .Resources.GetMatch "featured.*" }}
            {{ $image := .Resize "600x" }}
            <img src="{{ $image.RelPermalink }}" alt="{{ .Title }}" loading="lazy">
          {{ else }}
            <div class="fallback-image"></div>
          {{ end }}
        </div>
        <div class="showcase-body">
          <h3 class="showcase-title">{{ .Title }}</h3>
          <p class="showcase-summary">{{ .Summary }}</p>
        </div>
      </a>
    {{ end }}
  </div>
</div>

<style>
  .showcase-item { display: flex !important; align-items: center; margin-bottom: 3.5rem; text-decoration: none !important; color: inherit; flex-direction: row; }
  .showcase-image { flex: 0 0 40%; overflow: hidden; border-radius: 0.5rem; }
  .showcase-image img { width: 100%; height: auto; display: block; }
  .fallback-image { width: 100%; padding-bottom: 66.67%; background-color: #3f4a5a; border-radius: 0.5rem; }
  .showcase-body { flex: 1 1 auto; padding-left: 2.5rem; }
  .showcase-title { font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem; }
  .showcase-item:nth-child(even) { flex-direction: row-reverse; }
  .showcase-item:nth-child(even) .showcase-body { padding-left: 0; padding-right: 2.5rem; }
</style>
{{ end }}